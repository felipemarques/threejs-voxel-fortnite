<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voxel Firecraft Prototype</title>
    <link rel="icon" type="image/png" href="/threejs-voxel-firecraft/v1/dist/assets/favicon-BAg40dZS.png">
  <script type="module" crossorigin src="/threejs-voxel-firecraft/v1/dist/assets/main-Cq2rz3vc.js"></script>
  <link rel="modulepreload" crossorigin href="/threejs-voxel-firecraft/v1/dist/assets/slendermanElement-CLgnoac4.js">
  <link rel="modulepreload" crossorigin href="/threejs-voxel-firecraft/v1/dist/assets/spiderElement-CcVWrlae.js">
  <link rel="stylesheet" crossorigin href="/threejs-voxel-firecraft/v1/dist/assets/main-KKzPu7Qw.css">
</head>

<body>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6TFT1HY31X"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-6TFT1HY31X');
    </script>

    <div id="game-container"></div>

    <div id="ui-layer">
        <!-- Crosshair -->
        <div id="crosshair"></div>
        <!-- Sniper Scope Overlay -->
        <div id="scope-overlay" class="hidden"></div>
        <!-- Hover info above crosshair -->
        <div id="hover-info"
            style="position:absolute; top:48%; left:50%; transform:translate(-50%, -100%); color:#fff; pointer-events:none; font-family:Arial; font-size:14px; text-shadow:0 0 6px rgba(0,0,0,0.8);">
        </div>
        <!-- Click selection info -->
        <div id="selection-info" class="hidden" aria-live="polite"></div>
        <!-- Vehicle HUD -->
        <div id="vehicle-hud" class="hidden" aria-label="Vehicle HUD">
            <div class="vh-row">
                <span>Speed</span><span id="vehicle-speed">0</span><span>km/h</span>
            </div>
            <div class="vh-row fuel-row">
                <span>Fuel</span>
                <div id="vehicle-fuel-bar">
                    <div id="vehicle-fuel-fill"></div>
                </div>
                <span id="vehicle-fuel-text">100%</span>
            </div>
            <div class="vh-row">
                <span>Distance</span><span id="vehicle-distance">0.00</span><span>km</span>
            </div>
            <div class="vh-row">
                <span>Efficiency</span><span id="vehicle-efficiency">0.00</span><span>km/L</span>
            </div>
            <div class="vh-row">
                <span>Range</span><span id="vehicle-range">0.0</span><span>km</span>
            </div>
        </div>
        <!-- Studio palette (global, not tied to main menu) -->
        <!-- Storm Timer -->
        <div id="storm-timer">Storm closes in: <span id="timer-value">00:30</span></div>
        <!-- Survival Timer -->
        <div id="survival-timer" class="hidden">Survival Time: <span id="survival-time-value">00:00</span></div>
        <!-- AI Builder Panel -->
        <div id="ai-panel" class="hidden" aria-label="AI Builder">
            <div class="ai-header">Matrix AI Builder</div>
            <div class="ai-body">
                <div class="ai-row">
                    <label for="ai-provider">Provider</label>
                    <select id="ai-provider">
                        <option value="openai" selected>OpenAI</option>
                    </select>
                </div>
                <textarea id="ai-prompt" placeholder="Descreva o que quer construir..."></textarea>
                <button id="ai-send">Send to AI</button>
                <div id="ai-log"></div>
            </div>
        </div>
        <!-- Minimap -->
        <div id="minimap" aria-label="Minimap">
            <canvas id="minimap-canvas" width="180" height="180"></canvas>

            <!-- In-Game Top Bar -->
            <div id="game-topbar" style="display: none;">
                <!-- Menu Button (top-left) -->
                <button id="topbar-menu-btn" class="topbar-menu-button">
                    ‚ò∞ Menu
                </button>

                <!-- Dropdown Menu -->
                <div id="topbar-dropdown" class="topbar-dropdown hidden">
                    <div class="topbar-dropdown-item" id="topbar-quit">
                        üö™ Quit Game
                    </div>
                    <div class="topbar-dropdown-item" id="topbar-info">
                        ‚ÑπÔ∏è Game Info
                    </div>
                </div>

                <!-- Game Mode Display (center) -->
                <div id="topbar-gamemode" class="topbar-gamemode">
                    MODE: ARCADE
                </div>
            </div>
            <div id="minimap-label">MAP</div>
        </div>

        <!-- Camera Mode Hint -->
        <div id="camera-hint">Press V to toggle camera</div>
        <div id="hotkey-hint" class="hidden"
            style="position: absolute; top: 80px; left: 50%; transform: translateX(-50%); color: rgba(255,255,255,0.75); font-size: 12px; font-family: Arial; cursor: pointer; text-decoration: underline;">
            Press H for shortcuts</div>

        <!-- Interaction Prompt -->
        <div id="interaction-prompt" class="hidden">Press E to interact</div>

        <div class="dashboardContainer">
            <!-- Dashboard -->
            <div id="dashboard"
                style="background: rgba(0,0,0,0.5); color: white; padding: 15px; border-radius: 5px; font-family: monospace; font-size: 12px; position: relative;">
                <button id="dash-toggle"
                    style="position:absolute; top:6px; right:6px; background: rgba(255,255,255,0.08); color:#fff; border:1px solid rgba(255,255,255,0.15); border-radius:4px; font-size:10px; padding:2px 6px; cursor:pointer;">‚Äì</button>
                <div>FPS: <span id="fps-counter">0</span></div>
                <div>Enemies: <span id="enemy-count">0</span></div>
                <div>Killed: <span id="kill-count">0</span></div>
                <div>Drops: <span id="drop-count">0</span></div>
                <div>Distance: <span id="distance-traveled">0.00</span> km</div>
                <div>Speed: <span id="player-speed">0.0</span> km/h</div>
                <div>Map Size: <span id="map-size-readout">--</span> m</div>
                <div id="target-inspect">Object Target Inspect: ---</div>
                <div id="debug-info"
                    style="display: none; color: #f1c40f; margin-top: 10px; border-top: 1px solid #555; padding-top: 5px; position: relative;">
                    <button id="debug-clear-btn"
                        style="position: absolute; top: 5px; right: 5px; background: rgba(255,255,255,0.1); color: #fff; border: 1px solid rgba(255,255,255,0.2); border-radius: 3px; font-size: 10px; padding: 2px 8px; cursor: pointer;">Clear</button>
                    <div>Target: <span id="debug-target-name">None</span></div>
                    <div>ID: <span id="debug-target-id">---</span></div>
                </div>
            </div>

            <!-- Performance Dashboard -->
            <div id="perf-dashboard"
                style="background: rgba(0,0,0,0.55); color: white; padding: 10px; border-radius: 5px; font-family: monospace; font-size: 12px; min-width: 180px; margin-top: 8px; position: relative;">
                <button id="perf-toggle"
                    style="position:absolute; top:6px; right:6px; background: rgba(255,255,255,0.08); color:#fff; border:1px solid rgba(255,255,255,0.15); border-radius:4px; font-size:10px; padding:2px 6px; cursor:pointer;">‚Äì</button>
                <div>Frame: <span id="perf-frame">0.0</span> ms</div>
                <div>Calls: <span id="perf-calls">0</span></div>
                <div>Tris: <span id="perf-tris">0</span></div>
                <div>Geoms: <span id="perf-geoms">0</span></div>
                <div>Textures: <span id="perf-textures">0</span></div>
                <div>Programs: <span id="perf-programs">0</span></div>
                <div>Objects: <span id="perf-objects">0</span></div>
                <div>JS Heap: <span id="perf-mem">0</span> MB</div>
                <div>CPU: <span id="perf-cpu">N/A</span></div>
                <div>GPU: <span id="perf-gpu">N/A</span></div>
                <div>GPU Mem: <span id="perf-gpu-mem">N/A</span></div>
                <div>Net: <span id="net-stats">--</span></div>
                <canvas id="net-chart" width="180" height="40"
                    style="margin-top: 4px; background: rgba(255,255,255,0.05); border-radius: 3px;"></canvas>
            </div>
        </div>

        <div id="debug-container" style="position:absolute; top:0; left:0; pointer-events:none;"></div>

        <!-- HUD -->
        <div id="hud">
            <!-- Health & Shield -->
            <div id="status-bars">
                <div class="bar-container">
                    <div class="bar-label">SHIELD</div>
                    <div class="bar-bg">
                        <div id="shield-bar" class="bar-fill shield-fill" style="width: 100%;"></div>
                    </div>
                    <span id="shield-text">100</span>
                </div>
                <div class="bar-container">
                    <div class="bar-label">HP</div>
                    <div class="bar-bg">
                        <div id="health-bar" class="bar-fill health-fill" style="width: 100%;"></div>
                    </div>
                    <span id="health-text">100</span>
                </div>
                <div class="bar-container">
                    <div class="bar-label">STAMINA</div>
                    <div class="bar-bg">
                        <div id="stamina-bar" class="bar-fill stamina-fill" style="width: 100%;"></div>
                    </div>
                    <span id="stamina-text">100</span>
                </div>
            </div>

            <!-- Weapon Info (Bottom Right) -->
            <div id="weapon-info">
                <span id="weapon-name">Pistol</span>
                <span id="ammo-count">12 / 60</span>
            </div>

            <!-- Game Over / Victory Screen -->
            <div id="game-over-screen" class="hidden">
                <h1 id="game-over-title">VICTORY ROYALE!</h1>
                <button id="restart-btn">Play Again</button>
            </div>
        </div>
    </div>

    <!-- Main Menu (also used for pause) -->
    <div id="main-menu">
        <h1 class="game-title">VOXEL FIRECRAFT</h1>

        <div class="menu-container">
            <div class="tab-buttons">
                <button class="tab-btn" data-tab="tab-general">General</button>
                <button class="tab-btn" data-tab="tab-sound">Sound</button>
                <button class="tab-btn" data-tab="tab-survival" data-mode="survival">Survival</button>
                <button class="tab-btn active" data-tab="tab-arcade" data-mode="arcade">Arcade</button>
                <button class="tab-btn" data-tab="tab-arena" data-mode="arena">Arena</button>
                <button class="tab-btn" data-tab="tab-matrix" data-mode="matrix">Matrix</button>
                <button class="tab-btn" data-tab="tab-matrix-ai" data-mode="matrix-ai">Matrix AI</button>
                <button class="tab-btn" data-tab="tab-mp" data-mode="multiplayer">Multiplayer</button>
                <button class="tab-btn" data-tab="tab-studio" data-mode="studio">Studio</button>
                <button class="tab-btn" data-tab="tab-ai">Configura√ß√µes de IA</button>
            </div>

            <div id="tab-general" class="tab-panel">
                <div class="menu-group">
                    <label>Enemies: <span id="enemy-count-val">15</span></label>
                    <input type="range" id="setting-enemies" min="5" max="500" step="5" value="15">
                </div>

                <div class="menu-group">
                    <label>Storm Time (s): <span id="storm-time-val">180</span></label>
                    <input type="range" id="setting-storm" min="60" max="1800" step="30" value="180">
                </div>
                <div class="menu-group">
                    <label style="display:flex; align-items:center; gap:8px;">
                        <input type="checkbox" id="setting-storm-enabled" checked style="width:20px; height:20px;">
                        Enable Storm
                    </label>
                </div>

                <div class="menu-group">
                    <label>Map Size: <span id="map-size-val">400</span></label>
                    <input type="range" id="setting-map-size" min="20" max="800" step="10" value="400">
                </div>

                <div class="menu-group">
                    <label>Camera Mode</label>
                    <select id="setting-camera">
                        <option value="TPS" selected>Third Person</option>
                        <option value="FPS">First Person</option>
                    </select>
                </div>

                <div class="menu-group">
                    <label style="display:flex; align-items:center; gap:8px;">
                        <input type="checkbox" id="setting-performance-mode" style="width:20px; height:20px;">
                        Performance Mode
                    </label>
                </div>

                <div class="menu-group">
                    <label style="display:flex; align-items:center; gap:8px;">
                        <input type="checkbox" id="setting-auto-performance" style="width:20px; height:20px;">
                        Auto Performance (adaptive resolution)
                    </label>
                </div>

                <div class="menu-group">
                    <label>Render Scale: <span id="render-scale-val">100</span>%</label>
                    <input type="range" id="setting-render-scale" min="50" max="100" step="5" value="100">
                </div>

                <div class="menu-group">
                    <label>Mouth Style</label>
                    <select id="setting-mouth-style">
                        <option value="serious" selected>Serious</option>
                        <option value="smile">Smiling</option>
                        <option value="angry">Angry</option>
                        <option value="surprised">Surprised</option>
                        <option value="none">No Mouth</option>
                    </select>
                </div>

                <div class="menu-group">
                    <label style="display:flex; align-items:center; gap:8px;">
                        <input type="checkbox" id="setting-show-hat" checked style="width:20px; height:20px;">
                        Show Hat
                    </label>
                </div>

                <div class="menu-group">
                    <label style="display:flex; align-items:center; gap:8px;">
                        <input type="checkbox" id="setting-show-fps" style="width:20px; height:20px;">
                        Show FPS Monitor
                    </label>
                </div>

                <div class="menu-group">
                    <label>Language</label>
                    <select id="setting-language">
                        <option value="en" selected>English</option>
                        <option value="pt">Portuguese</option>
                        <option value="es">Spanish</option>
                    </select>
                </div>

                <div class="menu-group" style="flex-direction: row; align-items: center; gap: 10px;">
                    <div style="display:flex; flex-direction:column; gap:8px;">
                        <label style="margin:0; color:white; font-weight:bold;">Debug Options</label>
                        <div style="display:flex; align-items:center; gap:8px;">
                            <input type="checkbox" id="setting-debug" style="width: 20px; height: 20px;">
                            <label for="setting-debug" style="margin: 0; color:white;">Debug Mode</label>
                        </div>
                        <div style="display:flex; align-items:center; gap:8px;">
                            <input type="checkbox" id="setting-minimap" style="width: 20px; height: 20px;" checked>
                            <label for="setting-minimap" style="margin: 0; color:white;">Show Minimap</label>
                        </div>
                        <div style="display:flex; align-items:center; gap:8px; margin-top:8px;">
                            <input type="checkbox" id="setting-touch-controls" style="width:20px; height:20px;">
                            <label for="setting-touch-controls" style="margin:0; color:white;">Enable Touch Controls
                                (Mobile)</label>
                        </div>
                    </div>
                </div>

                <div class="menu-group">
                    <label style="display:flex; align-items:center; gap:8px;">
                        <input type="checkbox" id="setting-fullscreen" style="width:20px; height:20px;">
                        Start in Fullscreen (desktop & supported mobile)
                    </label>
                </div>
            </div>

            <div id="tab-sound" class="tab-panel hidden">
                <div class="menu-group">
                    <label>Sound</label>
                    <p class="menu-helper">Controle global de √°udio e m√∫sica de fundo.</p>
                </div>
                <div class="menu-group">
                    <label style="display:flex; align-items:center; gap:8px;">
                        <input type="checkbox" id="setting-music-enabled" checked style="width:20px; height:20px;">
                        Enable Background Music
                    </label>
                </div>
                <div class="menu-group">
                    <label style="margin:0; min-width:60px;">Volume:</label>
                    <div style="display:flex; align-items:center; gap:10px;">
                        <input type="range" id="setting-music-volume" min="0" max="100" value="50" style="flex:1;">
                        <span id="setting-music-volume-val"
                            style="color:white; font-weight:bold; min-width:35px;">50</span>
                    </div>
                </div>
                <div class="menu-group">
                    <label style="margin:0; min-width:60px;">SFX Volume:</label>
                    <div style="display:flex; align-items:center; gap:10px;">
                        <input type="range" id="setting-sfx-volume" min="0" max="100" value="70" style="flex:1;">
                        <span id="setting-sfx-volume-val"
                            style="color:white; font-weight:bold; min-width:35px;">70</span>
                    </div>
                </div>
            </div>

            <div id="tab-survival" class="tab-panel hidden">
                <div class="menu-group">
                    <label>Modo Survival</label>
                    <p class="menu-helper">Sobreviva sem tempestade e sem ve√≠culos. Inimigos mais fortes e mapa limpo.
                    </p>
                </div>
                <div class="menu-group">
                    <label>Difficulty</label>
                    <select id="setting-survival-difficulty">
                        <option value="easy">Easy</option>
                        <option value="medium" selected>Medium</option>
                        <option value="hard">Hard</option>
                    </select>
                </div>
            </div>

            <div id="tab-arcade" class="tab-panel hidden">
                <div class="menu-group">
                    <label>Modo Arcade</label>
                    <p class="menu-helper">Modo padr√£o com tempestade, drops e progress√£o. Use as op√ß√µes gerais para
                        afinar par√¢metros.</p>
                </div>
                <div class="menu-group">
                    <label>Difficulty</label>
                    <select id="setting-difficulty">
                        <option value="easy">Easy</option>
                        <option value="medium" selected>Medium</option>
                        <option value="hard">Hard</option>
                    </select>
                </div>
            </div>

            <div id="tab-arena" class="tab-panel hidden">
                <div class="menu-group">
                    <label>Arena (Krunker-like)</label>
                    <p class="menu-helper">Tiro r√°pido, sem tempestade. Use esta aba para focar em performance e ritmo.
                    </p>
                </div>
                <div class="menu-group">
                    <label>Dura√ß√£o da partida (s): <span id="arena-time-val">180</span></label>
                    <input type="range" id="setting-arena-time" min="60" max="900" step="30" value="180">
                </div>
                <div class="menu-group">
                    <label style="display:flex; align-items:center; gap:8px;">
                        <input type="checkbox" id="setting-arena-respawn" checked style="width:20px; height:20px;">
                        Respawn imediato ap√≥s morte
                    </label>
                </div>
            </div>

            <div id="tab-matrix" class="tab-panel hidden">
                <div class="menu-group">
                    <label>Matrix (Solo)</label>
                    <p class="menu-helper">Sandbox solo sem inimigos por padr√£o. Ideal para testes de movimenta√ß√£o e
                        armas.</p>
                </div>
                <div class="menu-group">
                    <label style="display:flex; align-items:center; gap:8px;">
                        <input type="checkbox" id="setting-matrix-infinite-ammo" checked
                            style="width:20px; height:20px;">
                        MunicÃßaÃÉo infinita
                    </label>
                </div>
                <div class="menu-group">
                    <label style="display:flex; align-items:center; gap:8px;">
                        <input type="checkbox" id="setting-matrix-show-ui" style="width:20px; height:20px;" checked>
                        Manter HUD e dashboard ativos
                    </label>
                </div>
            </div>

            <div id="tab-matrix-ai" class="tab-panel hidden">
                <div class="menu-group">
                    <label>Matrix AI Builder</label>
                    <p class="menu-helper">Construa via prompt de IA. Use esta aba para preparar o builder antes de
                        entrar.</p>
                </div>
                <div class="menu-group">
                    <label style="display:flex; align-items:center; gap:8px;">
                        <input type="checkbox" id="setting-matrix-ai-autospawn" checked
                            style="width:20px; height:20px;">
                        Carregar invent√°rio de constru√ß√£o automaticamente
                    </label>
                </div>
                <div class="menu-group">
                    <label style="display:flex; align-items:center; gap:8px;">
                        <input type="checkbox" id="setting-matrix-ai-hints" style="width:20px; height:20px;" checked>
                        Mostrar dicas r√°pidas do builder
                    </label>
                </div>
            </div>

            <div id="tab-studio" class="tab-panel hidden">
                <div class="menu-group">
                    <label>Studio (Constru√ß√£o)</label>
                    <p class="menu-helper">Modo de constru√ß√£o livre com blocos e prefabs. Ideal para prototipar
                        cen√°rios.</p>
                </div>
                <div class="menu-group">
                    <label style="display:flex; align-items:center; gap:8px;">
                        <input type="checkbox" id="setting-studio-flight" checked style="width:20px; height:20px;">
                        Come√ßar com voo livre habilitado
                    </label>
                </div>
                <div class="menu-group">
                    <label style="display:flex; align-items:center; gap:8px;">
                        <input type="checkbox" id="setting-studio-show-grid" style="width:20px; height:20px;" checked>
                        Mostrar grade de refer√™ncia no ch√£o
                    </label>
                </div>
            </div>

            <div id="tab-ai" class="tab-panel hidden">
                <div class="menu-group">
                    <label>OpenAI API Key</label>
                    <input type="password" id="setting-openai-key" placeholder="sk-..." />
                </div>
                <div class="menu-group">
                    <label>Groq API Key</label>
                    <input type="password" id="setting-groq-key" placeholder="gsk_..." />
                </div>
                <div class="menu-group">
                    <label>NVIDIA API Key</label>
                    <input type="password" id="setting-nvidia-key" placeholder="nvapi_..." />
                </div>
            </div>

            <div id="tab-mp" class="tab-panel hidden">
                <div class="menu-group">
                    <label>Multiplayer Server</label>
                    <select id="setting-mp-server-select"
                        style="width: 100%; padding: 8px; border: 1px solid rgba(255,255,255,0.2); border-radius: 4px; margin-bottom: 8px;">
                        <option value="wss://game-server01.voxelfirecraft.com/socket">game-server01.voxelfirecraft.com
                            (Official)</option>
                        <option value="custom">Custom Server...</option>
                    </select>
                    <input type="text" id="setting-mp-server" placeholder="wss://your-server.com/socket"
                        style="display: none;" />
                </div>
                <div class="menu-group">
                    <label>Seed (opcional)</label>
                    <input type="text" id="setting-mp-seed" placeholder="leave blank for random" />
                </div>
                <div class="menu-group checkbox-group">
                    <label class="checkbox-row">
                        <input type="checkbox" id="setting-mp-fixed-spawn" style="width:20px; height:20px;">
                        <span>Usar spawn fixo (debug minimap)</span>
                    </label>
                </div>
                <div class="menu-group">
                    <label>Room Code</label>
                    <div class="input-with-btn">
                        <input type="text" id="setting-mp-room" placeholder="ABCDE" />
                        <button id="mp-room-generate" class="btn-ghost">Generate</button>
                    </div>
                </div>
                <div class="menu-group">
                    <label>Spawn Coords (x,y,z)</label>
                    <input type="text" id="setting-mp-spawn" placeholder="0,0,0" />
                </div>
                <div class="menu-group">
                    <label>Nickname</label>
                    <input type="text" id="setting-mp-nickname" placeholder="Player123" />
                </div>
                <div class="menu-group">
                    <label>Player Color</label>
                    <input type="color" id="setting-mp-color" value="#29b6f6" />
                </div>
                <div class="menu-group checkbox-group">
                    <label class="checkbox-row">
                        <input type="checkbox" id="setting-mp-zombies" style="width:20px; height:20px;" checked>
                        <span>Start with Zombies</span>
                    </label>
                </div>
            </div>

            <button id="play-btn">PLAY GAME</button>
            <button id="quit-btn">QUIT GAME</button>
        </div>
    </div>


    <div id="mp-lobby" class="hidden" aria-label="Multiplayer Lobby"
        style="position:absolute; top:20px; left:50%; transform:translateX(-50%); background:rgba(0,0,0,0.75); color:white; padding:12px 16px; border-radius:8px; font-family:Arial; text-align:center; z-index:10; min-width:240px;">
        <div id="mp-lobby-status">Waiting in lobby...</div>
        <div id="mp-lobby-countdown" style="font-size:18px; font-weight:bold; margin-top:6px;"></div>
        <button id="mp-start-btn" class="hidden primary-cta">Start Match</button>
    </div>

    <!-- Studio palette (global, not tied to touch controls) -->
    <div id="studio-palette" class="hidden" aria-label="Studio Palette">
        <div class="palette-title">
            STUDIO TOOLS
            <button id="studio-minimize-btn"
                style="float: right; background: none; border: none; color: white; cursor: pointer;">_</button>
        </div>
        <div class="palette-grid">
            <button id="studio-resume-btn" data-action="resume">Resume & Lock</button>
            <button id="float-btn" data-action="float-toggle">FLOAT</button>
            <button data-prefab="house">House</button>
            <button data-prefab="mansion">Mansion</button>
            <button data-prefab="cabin">Cabin</button>
            <button data-prefab="smallBuilding">Small Building</button>
            <button data-prefab="plateau">Plateau</button>
            <button data-prefab="rock">Rock</button>
            <div class="palette-submenu">
                <button data-prefab="tree" data-submenu="tree-menu">Tree ‚ñæ</button>
                <div id="tree-menu" class="submenu hidden">
                    <button data-prefab="tree" data-tree-type="Oak">Oak</button>
                    <button data-prefab="tree" data-tree-type="Pine">Pine</button>
                </div>
            </div>
            <div class="palette-submenu">
                <button data-prefab="vehicle" data-submenu="vehicle-menu">Vehicle ‚ñæ</button>
                <div id="vehicle-menu" class="submenu hidden">
                    <button data-prefab="vehicle" data-vehicle-type="car">Car</button>
                    <button data-prefab="vehicle" data-vehicle-type="truck">Truck</button>
                    <button data-prefab="vehicle" data-vehicle-type="bus">Bus</button>
                    <button data-prefab="vehicle" data-vehicle-type="motorcycle">Motorcycle</button>
                </div>
            </div>
            <button data-prefab="crate">Crate</button>
            <div class="palette-submenu">
                <button data-action="npc-menu" data-submenu="npc-menu">Add NPC ‚ñæ</button>
                <div id="npc-menu" class="submenu hidden">
                    <button data-action="spawn-npc" data-npc-type="normal">Normal Zombie</button>
                    <button data-action="spawn-npc" data-npc-type="fat">Fat Zombie</button>
                    <button data-action="spawn-npc" data-npc-type="big">Big Zombie</button>
                    <button data-action="spawn-npc" data-npc-type="slender">Slenderman</button>
                    <button data-action="spawn-npc" data-npc-type="spider">Spider</button>
                </div>
            </div>
            <button data-action="remove-npc">Remove NPC</button>
            <button data-action="move-tool">Move Tool</button>
            <button data-action="drops">Rain Loot (L)</button>
            <button data-action="menu">Menu</button>
            <button data-action="quit">Quit Game</button>
        </div>
    </div>

    <!-- Hotbar (always visible for desktop/mobile) -->
    <div id="hotbar">
        <div class="slot active" data-slot="1">1</div>
        <div class="slot" data-slot="2">2</div>
        <div class="slot" data-slot="3">3</div>
        <div class="slot" data-slot="4">4</div>
        <div class="slot" data-slot="5">5</div>
        <div class="slot" data-slot="6">6</div>
    </div>

    <!-- Touch controls container (populated/shown by JS when enabled) -->
    <div id="touch-controls" class="hidden" aria-hidden="true"></div>

    <!-- Shortcuts Modal -->
    <div id="hotkey-modal" class="hidden" aria-hidden="true"
        style="position: fixed; inset: 0; background: rgba(0,0,0,0.65); display: flex; align-items: center; justify-content: center; z-index: 9999;">
        <div
            style="background: rgba(20,20,20,0.9); color: #f8f8f8; padding: 18px 22px; border-radius: 10px; min-width: 300px; box-shadow: 0 12px 32px rgba(0,0,0,0.55); font-family: Arial; position: relative;">
            <button id="hotkey-modal-close"
                style="position: absolute; top: 8px; right: 10px; background: transparent; border: none; color: #fff; font-size: 18px; cursor: pointer;">√ó</button>
            <h3 style="margin-top: 0; margin-bottom: 10px;">Shortcuts (Studio)</h3>
            <ul style="list-style: none; padding-left: 0; margin: 0;">
                <li><strong>H</strong> ‚Äî abrir/fechar esta ajuda</li>
                <li><strong>L</strong> ‚Äî fazer cair loots/drops do c√©u perto do jogador</li>
                <li><strong>B</strong> ‚Äî colocar bloco na mira</li>
                <li><strong>X</strong> ‚Äî remover bloco selecionado (ou o √∫ltimo)</li>
                <li><strong>ESC</strong> ‚Äî mostrar menu/paleta de constru√ß√£o</li>
                <li><strong>V</strong> ‚Äî alternar c√¢mera</li>
            </ul>
        </div>
    </div>
</body>

</html>